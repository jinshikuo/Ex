CXX = gcc
CXXFLAGS +=-g3 -Wall -Wextra
 
LIBEVENT_ROOT =/root/tar/libevent
 
TARGETS =main
TARGETS_C_FILE= $(TARGETS).c
 
CLEANUP = rm -f $(TARGETS) *.o
 
all:$(TARGETS)
 
clean:
	$(CLEANUP)
 
CORE_INCS =-I. \
-I$(LIBEVENT_ROOT)/ \
-I$(LIBEVENT_ROOT)/compat/sys \
 
LIBEVENT_EVENT =$(LIBEVENT_ROOT)/event.o
LIBEVENT_EVUTIL =$(LIBEVENT_ROOT)/evutil.o
LIBEVENT_LOG =$(LIBEVENT_ROOT)/log.o
LIBEVENT_EPOLL =$(LIBEVENT_ROOT)/epoll.o
LIBEVENT_STRLCPY =$(LIBEVENT_ROOT)/strlcpy.o
LIBEVENT_POLL =$(LIBEVENT_ROOT)/poll.o
LIBEVENT_SELECT =$(LIBEVENT_ROOT)/select.o
LIBEVENT_BUFFER =$(LIBEVENT_ROOT)/buffer.o
LIBEVENT_SIGNAL =$(LIBEVENT_ROOT)/signal.o
LIBEVENT_EVBUFFER = $(LIBEVENT_ROOT)/evbuffer.o
LIBEVENT_TAGGING = $(LIBEVENT_ROOT)/event_tagging.o
 
$(TARGETS):$(TARGETS_C_FILE)
	$(CXX) $(CXXFLAGS) $(CORE_INCS) $(LIBEVENT_EVENT) $(LIBEVENT_EVUTIL) $(LIBEVENT_LOG) $(LIBEVENT_EPOLL) $(LIBEVENT_STRLCPY) $(LIBEVENT_POLL) $(LIBEVENT_SELECT) $(LIBEVENT_BUFFER) $(LIBEVENT_SIGNAL) $(LIBEVENT_EVBUFFER) $(LIBEVENT_TAGGING) $^ -o $@
